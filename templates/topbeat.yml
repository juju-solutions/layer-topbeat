# This file is controlled by Juju. Hand edits will not persist!
input:
  period: {{ period }}
  procs: ["{{ procs }}"]
{% if not logstash %}
  {% if elasticsearch %}
output:
  elasticsearch:
    hosts: {{ elasticsearch }}
    {% endif %}
{% else %}
output:
  logstash:
    hosts:
    {% for host in logstash -%}
      - "{{ host }}"
    {% endfor -%}
{% endif %}
{% if kafka or kafka_hosts%}
  kafka:
    hosts:
      {% for host in kafka -%}
      - "{{ host }}"
      {% endfor %}
      {%- if kafka_hosts -%}
      {% for host in kafka_hosts.split(',') -%}
      - "{{ host|trim }}"
      {% endfor %}
      {% endif %}
    topic: "{{kafka_topic}}"
{% endif %}
{% if principal_unit %}
shipper:
  name: {{ principal_unit }}
{% endif %}
